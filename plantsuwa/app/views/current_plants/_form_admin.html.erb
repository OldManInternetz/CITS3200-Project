
<%= simple_form_for(@current_plant,  :url => url_for(:action => form_action), html: { class: 'form-horizontal' , :'accept-charset' => "UTF-8"}, defaults: { input_html: { class: 'form-control' } }) do |f| %>
  <% if @current_plant.errors.any? %>
    <div class="alert alert-danger" role="alert">
      <div id="error_explanation">
        <p><%= pluralize(@current_plant.errors.count, "error") %> prohibited this plant from being saved:</p>
        <ul>
        <% @current_plant.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
      	<% end %>
        </ul>
      </div>
    </div>
  <% end %>
  
  <div class="row">
    <div class="col-md-6">
    
      <fieldset>
        	<legend>Descriptions</legend>

          <div class="row">
            <div class="col-sm-6">
        	    <%= f.input  :genus %>
            </div>
            <div class="col-sm-6">
              <%= f.input  :species %>
            </div>
          </div>
          <%= f.input  :subspecies %>
  	      <%= f.input  :family %>
      		<%= f.input  :common_name %> 
      		<%= f.input  :scientific_name %> 
      		<%= f.input  :synonym %> 
  	      <%= f.association :type, :as => :select %>
  	      <%= f.input  :description, hint: 'Describe the plant in a few lines.', as: :text %> 
        	<%= f.input  :characteristics, hint: 'List the typical characteristics of the plant.', as: :text  %> 
        	<%= f.input  :identification, hint: 'How is this plant identified in the field?', as: :text  %> 
        	<%= f.input  :physical, hint: 'What are the physical characteristics of the plant?', as: :text %>
  	      <%= f.association :sizes, :as => :check_boxes %>
  	      <%= f.association :flower_colours, :as => :check_boxes %>
  	      <%= f.association :leaf_colours, :as => :check_boxes %>
      </fieldset>
      <br/>
    </div>
    
    <div class="col-md-6">   

      <fieldset>
        <legend>Architectural</legend>
      	  <%= f.association :climates, :as => :check_boxes %>
          <%= f.input  :environment, hint: 'What sort of environment does this plant enjoy?', as: :text %>
      	  <%= f.input  :horticulture, as: :text %>
      	  <%= f.input  :architectural_uses, as: :text %>
          <%= f.input  :architectural_info, as: :text %>
  	      <%= f.association :soil_types, :as => :check_boxes %>
      </fieldset>

      <br/>

      <fieldset>
        <legend>Environmental</legend>
      	  <%= f.input  :culture, hint: 'What role does this plant play in different World cultures?', as: :text %> 
      	  <%= f.input  :conservation, as: :text %> 
      	  <%= f.input  :wildlife, hint: 'Does this plant attract any fauna?', as: :text %>
          <%= f.association :origins, :as => :check_boxes %>
      	  <%= f.input  :location_name, hint: 'Where can this plant be found locally?'%> 
      	  <%= f.input  :general_info, as: :text %>
      	  <%= f.input  :additional_info, as: :text %> 
      	  <%= f.input  :discovered_by, hint: 'Biologist credited with discovering this plant.' %>
          <%= f.input  :named_by, hint: 'Biologist credited with naming this plant'%>
      </fieldset>

    </div>
  </div>



    <fieldset>
      <legend>Photos</legend> 
      <dt>Display photo:</dt>
      <br/>
      <div class="form-photo-box photo-box-display">

          <% if !@current_plant.display_photo.exists? %>
            <span style="float: left;">
              <div style="width: 60px; height: 60px; float: left; margin-right: 10px;">
                <h5 style="text-align: center">NEW</h5>
              </div>
            </span>
          <% else %>
            <span style="float: left;">
            <%= image_tag @current_plant.display_photo.url, style: "width: 60px; height: 60px; float: left; margin-right: 10px;", alt:"An image of a plant", class: "img-circle" %>
            </span>
          <% end %>

        <%= f.file_field  :display_photo %>
        <%= f.input  :display_photo_description %>
      </div>
    </fieldset>




    <fieldset>
      <% if !@current_plant.new_record? %>
        <dt>Other photos:</dt>
        <br/>

        <%= f.simple_fields_for :current_photos do |builder| %>
          <div class="form-photo-box">

            <% if builder.object.new_record? %>
              <span style="float: left;">
                <div style="width: 60px; height: 60px; float: left; margin-right: 10px;">
                  <h5 style="text-align: center">NEW</h5>
                </div>
              </span>
            <% else %>
              <span style="float: left;">
              <%= image_tag builder.object.image.url, style: "width: 60px; height: 60px; float: left; margin-right: 10px;", alt:"An image of a plant", class: "img-circle" %>
              </span>
            <% end %>


            <%= builder.file_field :image %>
            <%= builder.input :description %>

          </div>
        <% end %>
      <% else %>
        <div style="height: 20px"></div>
        <dt>Other photos:</dt>
        <p>Edit the plant later to add more photos!</p>
      <% end %>
    </fieldset>

  <hr/>
  <%= f.submit 'Done', class: 'btn btn-orange' %>

<% end %>
<br/>
